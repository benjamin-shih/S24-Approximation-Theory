%==============STYLE DIMULAI==============%
\usepackage[verbose=true,letterpaper]{geometry}
\usepackage[square, numbers, comma, sort, compress]{natbib}
\usepackage[nottoc,numbib]{tocbibind}
\usepackage{amsmath, mathtools, amsthm, amsfonts}
\usepackage{graphicx}
\usepackage{floatrow}
\usepackage{titlesec}
\makeatletter
\renewcommand{\maketitle}{\bgroup\setlength{\parindent}{0pt}
	\begin{flushleft}
		{\Huge\sffamily\bfseries\@title}
		\vskip 1.5em
			{\sffamily\@author} \\
		{\@date}
	\end{flushleft}\egroup
}
\makeatother
\usepackage{fancyhdr, extramarks}
\renewenvironment{abstract}
{\par{\bfseries \noindent \sffamily \abstractname.}}
{\vskip 0.1em \medskip\noindent \rule{\linewidth}{.5pt}}
\usepackage{lmodern}
\renewcommand*\familydefault{\sfdefault}
\usepackage[T1]{fontenc}
\usepackage{sectsty}
\sectionfont{\sffamily\fontsize{15}{15}\selectfont}
\subsectionfont{\sffamily\fontsize{10}{5}\selectfont}

% -------------- Colors -------------------
\usepackage[dvipsnames, table]{xcolor}
\definecolor{ctpRosewater} {RGB} {220, 138, 120}
\definecolor{ctpFlamingo}  {RGB} {221, 120, 120}
\definecolor{ctpPink}      {RGB} {234, 118, 203}
\definecolor{ctpMauve}     {RGB} {136, 57, 239}
\definecolor{ctpRed}       {RGB} {210, 15, 57}
\definecolor{ctpMaroon}    {RGB} {230, 69, 83}
\definecolor{ctpPeach}     {RGB} {254, 100, 11}
\definecolor{ctpYellow}    {RGB} {223, 142, 29}
\definecolor{ctpGreen}     {RGB} {64, 160, 43}
\definecolor{ctpTeal}      {RGB} {23, 146, 153}
\definecolor{ctpSky}       {RGB} {4, 165, 229}
\definecolor{ctpSapphire}  {RGB} {32, 159, 181}
\definecolor{ctpBlue}      {RGB} {30, 102, 245}
\definecolor{ctpLavender}  {RGB} {114, 135, 253}
\definecolor{ctpBase}      {RGB} {239, 241, 245}
\definecolor{ctpMantle}    {RGB} {230, 233, 239}
\definecolor{ctpCrust}     {RGB} {220, 224, 232}
\usepackage[
	plainpages = false,
	colorlinks = true,
	linktocpage = true,
	linkcolor = {ctpRed!80!black},
	urlcolor  = {ctpBlue!80!black},
	citecolor = {ctpBlue!80!black},
	anchorcolor = blue]{hyperref}
\usepackage[most]{tcolorbox}

% ------------ TikZ ------------------
\usepackage{tikz}
\usepackage{listofitems}
\usetikzlibrary{arrows.meta}
\usepackage[outline]{contour}
\contourlength{1.4pt}
\tikzset{
>=latex, % for default LaTeX arrow head
node/.style={thick,circle,draw=ctpBlue,minimum size=22,inner sep=0.5,outer sep=0.6},
node in/.style={node,ctpTeal!80!black,draw=ctpTeal!80!black,fill=ctpTeal!25},
node hidden/.style={node,ctpBlue!80!black,draw=ctpBlue!80!black,fill=ctpBlue!20},
node convol/.style={node,ctpPeach!80!black,draw=ctpPeach!80!black,fill=ctpPeach!20},
node out/.style={node,ctpRed!80!black,draw=ctpRed!30!black,fill=ctpRed!20},
connect/.style={thick,ctpLavender}, %,line cap=round
connect arrow/.style={-{Latex[length=4,width=3.5]},thick,ctpLavender,shorten <=0.5,shorten >=1},
node 1/.style={node in}, % node styles, numbered for easy mapping with \nstyle
node 2/.style={node hidden},
node 3/.style={node out}
}
\def\nstyle{int(\lay<\Nnodlen?min(2,\lay):3)} % map layer number onto 1, 2, or 3
% ------------ Theorems --------------

\theoremstyle{definition}
\newtheorem{thm}{Theorem}[section]
\newtheorem{lma}[thm]{Lemma}
\newtheorem{rmk}[thm]{Remark}
\newtheorem{expl}[thm]{Example}
\newtheorem{defn}[thm]{Definition}
\newtcolorbox{cbox}[1][]{
	breakable,
	boxrule=0pt,
	frame hidden,
	sharp corners,
	enhanced,
	before upper={\parindent4ex},
	borderline west={2pt}{0pt}{#1},
	colback=#1!5!white
}

% ---------- THEOREM ENVIRONMENTS --------
\newenvironment{dfn}[1][]
{\begin{cbox}[ctpTeal]
		\begin{defn}[#1]
			}
			{
		\end{defn}
	\end{cbox}
}

\newenvironment{theorem}[1][]
{\begin{cbox}[ctpBlue]
		\begin{thm}[#1]
			}
			{
		\end{thm}
	\end{cbox}
}

\newenvironment{lemma}[1][]
{\begin{cbox}[ctpLavender]
		\begin{lma}[#1]
			}
			{
		\end{lma}
	\end{cbox}
}

\newenvironment{example}[1][]
{\begin{cbox}[CadetBlue]
		\begin{expl}[#1]
			}
			{
		\end{expl}
	\end{cbox}
}

\newenvironment{remark}[1][]
{\begin{cbox}[Thistle]
		\color{Thistle}
		\begin{rmk}[#1]
			\color{black}
			}
			{
		\end{rmk}
	\end{cbox}
}


\let\Sectionmark\sectionmark
\def\sectionmark#1{\def\Sectionname{#1}\Sectionmark{#1}}
\let\Subsectionmark\subsectionmark
\def\subsectionmark#1{\def\Subsectionname{#1}\Subsectionmark{#1}}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[R]{\sffamily\small\thepage}
\fancyhead[L]{\sffamily\small\Subsectionname}
\renewcommand{\headrulewidth}{0.4pt}

% -------- MATH ------------
\newcommand{\R}{\mathbb{R}}
